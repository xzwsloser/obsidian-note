# vimtutor
## 移动光标
- `h`  -> 左
- `j` -> 下
- `k` -> 上
- `l` -> 右
## 删除
- 指定的位置键入 `x` 即可删除对应位置的字符
## 插入
- `i`: 进入插入模式,在指定的字符前面插入内容
- `A`:在文章末尾插入元素
- `o` :在光标所在的一行的下行开启一个新行进入插入模式
- `O`: 在光标所在的上一行开启一个新行并且进入插入模式
- `a`: 在当前光标的后面插入
- `R`: 进入替换模式,可以把当前位置的字符进行替换
### 删除类命令
- 在指定的单词的首部键入`dw`即可删除这一个单词,光标跳转到下一个字母的首部
- `d$`从键入位置删除到行首部
### 更改类命令
- 在需要修改的位置的首字母的位置键入`ce`,输入修改之后的值,即可完成修改 (注意进入了插入模式)
- `c [number] motion`  比如 `c 4 w` 表示从当前位置开始向后面修改四个单词,`c $` 表示修改到行末尾
- 剪切操作可以使用`p`使得删除的内容出现在光标的后面
### 定位和文件状态
- 在某一行键入 `CTRL + G` (长按`ctrl`,之后按`g`) 就会显示当前文件的状态以及所在的行号,之后可以进行任意的跳转,想要回到原来的位置只需要键入原来的行号并且按下`G`即可
- `G`表示到文件末尾
- `gg`表示到文件开头
### 搜索类命令
- `/需要搜索的单词`  按下回车之后就可以进行搜索了,`n`表示搜索下一个,`N`表示搜索上一个
- `?需要搜索的单词`  表示反向搜索
- `ctrl + o` 回退到原来的位置,`ctrl + I`撤销回退
- `:set hs` 可以高亮
- `:set ic` 可以忽略大小写
- `:set noic` 可以取消大小写
### 括号匹配
- 在括号的位置或者括号里面内容的位置键入: `%`即可找到相匹配的括号位置
### 修改匹配字符串
- 修改方式:
	- `/s/old/new`  对于某一个行,把这一行中的第一个`old`修改为`new`
	- `/s/old/new/g` 对于某一行,把这一行中的所有的`old`修改为`new`
	- `#,#/s/old/new/(g)` 表示修改两行之间的内容中的`old`为`new`
	- `%s/old/new/(g)` 对于整个文件中的所有内容进行匹配
### 执行外部命令
- `:!` 即可执行外部命令了,注意所有的`:`都必须使用回车结尾
- 比如`:!rm TEST`可以执行删除命令
### 保存文件
- `:w 文件名` 可以使用特定的文件名保留文件
- 可以按住`v`进入可视模式,之后选择一段文字,按下`:`,之后键入保存文件的命令(比如`w TEST`)即可把这一段文字保存为指定的文件
### 合并文件
- `:r 文件或者其他可以输入标准输出的东西`  就可以把之后显示的内容输出到当前光标的下一行
### 动作与数字结合
- 动作(`operator`): 也就是复制删除等动作,比如`y`,`dd`等操作
- 移动(`motion`): 移动比如利用`h j k l`进行移动
- 动作数字和移动可以结合,比如:
	- `dw`表示删除一个单词
	- `de` 表示删除到单词末尾
	- `d$` 表示删除到行末尾
	- `d2w` 表示删除两个单词
- 注意动作在移动之前
- 但是特殊字符比如`$`等在移动动作之后(比如``)
### 撤销
- 撤销移动: `ctrl + o` 恢复到原来的位置: `ctrl + I`
- 撤销上一步的修改: `u` , 撤销整行的修改: `U`
### 操作符号
- `dd`: 表示删除
- `y`: 表示复制
- `p`: 表示粘贴
- `d + p` 可以完成剪切操作
### 帮助文档
- `:help` 即可
- 自动补全功能: `CRTL + D`
### 备忘录
![[Pasted image 20241122201434.png]]
### 跳转到函数定义处
- `ctrl + ]`即可跳转到函数的定义处,同时利用`crtl + o`就可以回退了
# 基础部分
### 窗口,缓冲区,标签
- 每一个文本都是缓冲区的一个部分,都是在特有的缓冲区打开的
- 窗口是缓冲区上一层的视窗,查看文件的不同位置就需要窗口
- 标签就是窗口的集合,需要不同的窗口布局就需要使用标签
- `:vsplit` 表示水平分割屏幕,`:diffsplit` 表示垂直分割屏幕
- `crtl + w   p j k l` 分别表示上下,下,上,右移动,左可以使用`p`(表示跳转)
- `crlt + W c` 关闭当前窗口
- `ctrl + W q`关闭当前窗口
- `:only` 仅仅保留当前分屏
- `:hide` 关闭当前分屏
### 缓冲区的状态
- 利用`vim file`命令启动`vim`,会使得文件的内容加载道缓冲区中,如果有一个已经载入的缓冲区,可以在`vim`中保存文件
- 如果键入`:e file2`就会使得`file2`加入缓冲区,但是`file1`变成隐藏的缓冲区
- `:ls` 可以列出所有缓冲区,`:ls!`可以显示被放入缓冲区列表和没有放入列表的缓冲区,未命名的缓冲区是一种没有关联特定文件的缓冲区,可以使用`:enew`创建,添加一些文本可以保存着一个缓冲区中的内容 `:w /temp/foo`
### 按键映射
- 可以使用`:map` 命令定义自己的快捷键,映射可以是递归的也可以是非递归的,递归的映射表示一个键完全替代了应外一个键,需要执行另外一个键的其他功能
![[Pasted image 20241122203813.png]]
- 除非递归映射是必须的,一般都会使用非递归映射
- 映射前置键: `Leader`是一个按键映射,默认为`\`
## B站vim教程补充
### 移动命令
- `Ctrl + u` or `Ctrl + b` 向上翻页
- `Ctrl + f` or `Ctrl + d` 向下翻页
- `{lineno}gg` 跳转到 `lineno` 行
- `zz/zt/zb` : 光标设置为屏幕居中/屏幕第一行/屏幕最后一行(把当前位置设置为第一行,中间,或者最后一行)
### 插入模式
- `s` 删除当前字符进入插入模式
- `S` 删除当前行并且进入插入模式
- `A` 在本行的后面插入
- `I` 在本行的前面插入
### 可视模式
- `x`用于剪切,`y`用于复制
### 移动和编辑
- `w` 跳到下一个下一个单次的开头
- `b` 跳到上一个单词的开头
- `e` 跳到下一个单词的结尾
- `ge` 跳到上一个单词的结尾
行内搜索:
- `f{char}/t{char}` 行内搜索字符
- `;/,`重复上一次`ft` 的查找,`;`表示向前面,`,`表示向后面
- `F{char}/T{char}` 向前面搜索
文件中搜索:
- `*`等价于`/{pattern}`命令,`pattern`是当前光标下的单词
基于标记的移动
- `m{mark}` 把当前位置标记为 `mark`
- ``{mark}` 跳转到名为 `mark`的标记位置  
- 内置标记:
	- ``(两个`号) 上一次跳转至前的位置
	- ``.`: 上次修改的位置
	- ``^`: 上次插入的位置
其他跳转方式:
- `0/$`: 跳转到行的开头和结尾
- `%`: 匹配括号注释等
Operator + Motion = Action(和下面有关)
也就是前面指操作,后面是移动可以组成一次行为,比如 `yw`,`dw`,`dt.`等
同时两个操作重复表示作用于这一行,比如`dd`等

重复操作:
- `.`: 表示重复上一次修改
- `u`: 撤销上一次修改
- `Ctrl + r`: 重做上一次修改

批量操作:
- {`count`}{`action`} 表示重复 `count` 次`action` 操作,比如`3dw`等
相对行:
设计行操作,可以使用开启相对行的方式:
- `:set relativenumber` 开始
- `:set norelativenumber` 关闭
### 文本对象操作
文本对象:
- `textobjections`: 语义化的文本片段
- 格式: `i/a` + 对象
- 常见的对象:
	- `w/W` , `s` , `p` : 单词,句子,段落
	- `(/)` , `[/]` , `{/}` 配对符定义的对象
	- `i` 表示 `inner` 表示内部,`a` 表示周围的空格和配对符
文本对象操作:
- `[count]{operator}{textobjects}` 表示以一个语义对象作为操作对象
- 比如:
	- `diw` 删除一个单词
	- `ci(` 修改小括号内部
	- `yi{`  复制大括号内部
补充操作符和命令:
- `gu/gU/g~` 表示转小写/大写/翻转大小写
- `J` 连接两行
- `Ctrl + a/ Ctrl + x` 增加减少数字
- `g Ctrl + A` 创建递增序列(可视模式下使用)
- `</>` 左右缩进
### 寄存器与宏
`Vim`中提供许多寄存器用于存放内容,可以理解为剪贴板的作用,一个字符对应一个寄存器,比如(`a - z` , `0 - 9`)
特别的寄存器:
- `"` : 默认寄存器,平时复制,删除的内容都在里面
- `%`: 当前文件名称
- `.`: 上一次插入的内容
- `:`: 上一次执行的命令
- 通过 `:reg {register}` 查看对应寄存器中的内容

指定寄存器:
在复制/删除/粘贴操作前面加上 `{register}` 就可以指定本次操作使用的寄存器,比如:
- `"ayy`: 表示复制本行内容到 `a` 寄存器中
- `"bdiw`: 复制当前的`textobj` 放在 `b` 寄存器中
- `"cp`: 将 `c` 寄存器中的内容粘贴出来

宏: 一些列键盘操作,允许重复操作,比如添加注释等(好强大!!!)
操作序列存储在指定的寄存器中:
- `q{register}` 表示开始录制宏,存在 `register` 中
- 录制过程中按 `q` 退出录制
- `@{register}` 重新防止寄存器`register` 中的操作
- `@@` 重新方上一次操作
同时可以使用数字 + 宏定义 来模拟 `vscode` 中同时操作多行的操作
### 命令模式
Ex 命令格式:
`:[range] {excommand} [args]` 
- `range`: 作用的范围,不给的话默认就是本行
- `excommand`: 特殊的命令,适用于`Command`模式
- `args`: 后续的参数,视命令而定
一些 `Ex`命令中,`[x]` 表示寄存器,比如:
- `[range] delete [x]` 表示删除范围中的行并且放入到 `x`寄存器中